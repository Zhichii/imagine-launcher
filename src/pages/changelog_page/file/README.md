# 更新日志文件命名规则

## 文件命名格式

更新日志文件必须遵循以下命名格式：

```
v{主版本号}.{次版本号}.{修订号}-{渠道}.txt
```

### 示例

- `v0.0.1-alpha.txt` - Alpha 版本
- `v0.0.2-alpha.txt` - Alpha 版本
- `v1.0.0-beta.txt` - Beta 版本
- `v1.0.0-stable.txt` - 稳定版本
- `v1.2.3-rc.txt` - RC 候选版本
- `v2.0.0-snapshot.txt` - 快照版本

## 版本号规则

### 主版本号（Major）
- 重大功能更新
- 不兼容的 API 变更
- 架构重构

### 次版本号（Minor）
- 新增功能
- 向后兼容的改进
- 较大的优化

### 修订号（Patch）
- Bug 修复
- 小的优化
- 文档更新

## 渠道类型（Channel）

支持的渠道类型：

| 渠道名称 | 说明 | 稳定性 | 使用场景 |
|---------|------|--------|---------|
| `alpha` | 内测版本 | ⭐ | 早期开发，功能不完整 |
| `beta` | 公测版本 | ⭐⭐ | 功能基本完整，可能有 bug |
| `rc` | 候选版本 | ⭐⭐⭐ | 准备发布，最后测试 |
| `stable` | 稳定版本 | ⭐⭐⭐⭐ | 正式发布，推荐使用 |
| `release` | 发行版本 | ⭐⭐⭐⭐ | 同 stable |
| `snapshot` | 快照版本 | ⭐ | 实验性功能 |

## 文件内容格式

每个更新日志文件必须包含以下结构：

```
===========================
update v版本号-渠道
channel: 渠道类型
by: 作者名
date: YYYY/MM/DD
===========================

Bug Fix:
1.修复内容 [标记]
2.修复内容

Optimization:
1.优化内容 [标记]
2.优化内容

Add New:
1.新增内容 [标记]
2.新增内容

Patch:
1.更新内容 [标记]
2.更新内容
```

## 支持的标记（Badge）

在更新内容末尾可以添加标记，用方括号包裹：

| 标记 | 颜色 | 用途 |
|-----|------|------|
| `[NEW]` | 绿色 | 新增功能 |
| `[FIX]` | 蓝色 | 修复问题 |
| `[IMPORTANT]` | 橙色 | 重要更新 |
| `[Super Update!]` | 紫色 | 超级更新 |
| `[新增]` | 绿色 | 中文新增 |
| `[修复]` | 蓝色 | 中文修复 |
| `[重大更新]` | 橙色 | 中文重要 |

### 标记使用示例

```
Bug Fix:
1.修复游戏启动崩溃的问题 [FIX]
2.修复内存泄漏导致卡顿 [IMPORTANT]

Add New:
1.新增云同步功能 [NEW]
2.新增自动更新系统 [Super Update!]
```

## 添加新版本步骤

1. **创建文件**
   ```
   src/pages/changelog_page/file/v{版本号}-{渠道}.txt
   ```

2. **编写内容**
   - 按照格式填写头部信息
   - 在四个部分中添加更新内容
   - 为重要更新添加标记

3. **更新脚本**
   - 编辑 `src/pages/changelog_page/script.js`
   - 在 `knownFiles` 数组中添加新文件名
   ```javascript
   const knownFiles = [
     'v0.0.2-alpha.txt',  // 新版本
     'v0.0.1-alpha.txt'   // 旧版本
   ];
   ```

4. **更新版本信息**
   - 编辑 `src/version/version.ini`
   - 更新版本号和日期

## 注意事项

1. **文件名必须小写**
   - ✅ `v1.0.0-alpha.txt`
   - ❌ `V1.0.0-Alpha.txt`

2. **版本号必须包含三位数字**
   - ✅ `v1.0.0-alpha.txt`
   - ❌ `v1.0-alpha.txt`

3. **渠道名称必须是支持的类型**
   - ✅ `v1.0.0-alpha.txt`
   - ❌ `v1.0.0-test.txt`

4. **文件必须是 UTF-8 编码**
   - 确保中文正确显示

5. **日期格式必须是 YYYY/MM/DD**
   - ✅ `2026/01/03`
   - ❌ `2026-01-03`

## 版本排序

更新日志页面会自动按版本号降序排列（最新版本在最上面）：

```
v1.0.0-stable.txt
v0.0.2-alpha.txt
v0.0.1-alpha.txt
```

## 示例文件

参考 `example-format.txt` 查看完整的格式示例。

---

**最后更新**: 2026/01/03  
**维护者**: ZZBuAoYe
